<!-- resources/views/partials/sidebar.antlers.html -->
<aside class="w-full md:w-72 lg:w-80 xl:w-96 flex-shrink-0 bg-white dark:bg-gray-800 border-l border-gray-100 dark:border-gray-700 p-5 overflow-y-auto">

    <!-- Search Section -->
    <div class="mb-8">
        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider">
            Search
        </h3>
        <div class="relative">
            <input type="text"
                   class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-600 dark:focus:border-blue-600 transition-colors"
                   placeholder="Search apps...">
            <i class="fas fa-search absolute left-3 top-2.5 text-gray-400 dark:text-gray-500"></i>
        </div>
    </div>

    <!-- Categories Section -->
    <div class="mb-8">
        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider">
            Categories
        </h3>
        <div class="space-y-1">
            {{ taxonomy:categories }}
                <a href="{{ url }}"
                   class="flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors group">
                    <span class="text-gray-700 dark:text-gray-300 group-hover:text-blue-600 dark:group-hover:text-blue-400">
                        {{ title }}
                    </span>
                    <span class="text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-900 px-2 py-1 rounded-full">
                        {{ entries_count }}
                    </span>
                </a>
            {{ /taxonomy:categories }}
        </div>
    </div>

    <!-- Top Rated Section -->
    <div class="mb-8">
        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider">
            Top Rated
        </h3>
        <div class="space-y-3">
            {{ collection:apps sort="rating:desc" limit="3" }}
                <a href="{{ url }}" class="flex items-center space-x-3 group">
                    <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0">
                        {{ glide:icon width="40" height="40" }}
                            <img src="{{ url }}" alt="{{ alt }}"
                                 class="w-full h-full object-cover">
                        {{ /glide:icon }}
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400">
                            {{ title }}
                        </h4>
                        <div class="flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400">
                            <span class="flex items-center text-amber-500">
                                <i class="fas fa-star mr-1 text-xs"></i>
                                {{ rating }}
                            </span>
                            <span>•</span>
                            <span>{{ size }}</span>
                        </div>
                    </div>
                </a>
            {{ /collection:apps }}
        </div>
    </div>

    <!-- Recent Updates Section -->
    <div class="mb-8">
        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider">
            Recent Updates
        </h3>
        <div class="space-y-3">
            {{ collection:apps sort="updated_at:desc" limit="3" }}
                <a href="{{ url }}" class="flex items-center space-x-3 group">
                    <div class="w-10 h-10 rounded-lg overflow-hidden flex-shrink-0">
                        {{ glide:icon width="40" height="40" }}
                            <img src="{{ url }}" alt="{{ alt }}"
                                 class="w-full h-full object-cover">
                        {{ /glide:icon }}
                    </div>
                    <div class="flex-1 min-w-0">
                        <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate group-hover:text-blue-600 dark:group-hover:text-blue-400">
                            {{ title }}
                        </h4>
                        <div class="text-xs text-gray-500 dark:text-gray-400">
                            Updated {{ updated_at | relative }}
                        </div>
                    </div>
                </a>
            {{ /collection:apps }}
        </div>
    </div>

    <!-- Developer Spotlight -->
    <div class="mb-8">
        <h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider">
            Developer Spotlight
        </h3>
        <div class="space-y-3">
            {{ taxonomy:developers sort="random" limit="2" }}
                <div class="bg-gray-50 dark:bg-gray-900 p-4 rounded-lg">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-full overflow-hidden flex-shrink-0">
                            {{ glide:logo width="40" height="40" }}
                                <img src="{{ url }}" alt="{{ alt }}"
                                     class="w-full h-full object-cover">
                            {{ /glide:logo }}
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 truncate">
                                {{ title }}
                            </h4>
                            <div class="text-xs text-gray-500 dark:text-gray-400">
                                {{ entries_count }} apps
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <a href="{{ url }}"
                           class="text-xs text-blue-500 hover:text-blue-600 dark:hover:text-blue-400 font-medium">
                            View Portfolio →
                        </a>
                    </div>
                </div>
            {{ /taxonomy:developers }}
        </div>
    </div>

    <!-- Newsletter Signup -->
    <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-5 text-white">
        <h3 class="text-lg font-semibold mb-2">Stay Updated</h3>
        <p class="text-sm mb-4">
            Get the latest app updates and releases straight to your inbox.
        </p>
        <form class="space-y-3">
            <input type="email"
                   class="w-full px-4 py-2 rounded-lg bg-white/20 placeholder-white/70 focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-blue-500"
                   placeholder="Your email address">
            <button type="submit"
                    class="w-full bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-50 transition-colors">
                Subscribe
            </button>
        </form>
    </div>

</aside>
<style>
    .sidebar {
    scrollbar-width: thin;
    scrollbar-color: #3b82f6 #f3f4f6;
}

.dark .sidebar {
    scrollbar-color: #1e40af #1f2937;
}

.sidebar::-webkit-scrollbar {
    width: 8px;
}

.sidebar::-webkit-scrollbar-track {
    background: #f3f4f6;
}

.dark .sidebar::-webkit-scrollbar-track {
    background: #1f2937;
}

.sidebar::-webkit-scrollbar-thumb {
    background-color: #3b82f6;
    border-radius: 4px;
}

.dark .sidebar::-webkit-scrollbar-thumb {
    background-color: #1e40af;
}
</style>
